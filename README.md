# Структура проекта

+ ***api*** - папочка со всеми самостоятельными api (какие-то отдельные функции, которые неуместно добавлять в какой-то из ресурсов)
	+ ***calculate_cost_api.py*** - api, которое отвечает за подсчет стоимости списка товаров
+ ***data*** - всякие файлики с данными
	+ ***\_\_all_models*** - все модели БД
	+ ***categories.py*** - табличка с категориями товаров
	+ ***constants.py*** - все константы приложения
	+ ***db_session.py*** - для работы с сессиями БД
	+ ***items.py*** - табличка с товарами
	+ ***orders.py*** - табличка с заказами пользователей
	+ ***secret_key*** - секретный ключ для зазиты от межсайтовой подделки запросов
	+ ***suppliers.py*** - табличка с поставщиками
	+ ***users.py*** - табличка с пользователями
+ ***db*** - все БД
	+ ***shop.db*** - основная БД (**НИ В КОЕМ СЛУЧАЕ НЕ ТРОГАТЬ ЕЁ!!!**)
	+ ***shop_test.db*** - БД для тестов (можно смело с ней делать, что угодно: удалять, изменять и т.д.)
+ ***resources*** - все ресурсы
	+ ***categories_resources.py*** - ресурс с категориями
	+ ***items_resources.py*** - ресурс с товарами
	+ ***orders_resources.py*** - ресурс с заказами
	+ ***suppliers_resources.py*** - ресурс с поставщиками
	+ ***users_resources.py*** - ресурс с пользователями
+ ***tests*** - все тесты
	+ ***category_api_test.py*** - тесты api категорий
	+ ***items_api_test.py*** - тесты api товаров
	+ ***suppliers_api_test.py*** - тесты api поставщиков
	+ ***test.py*** - сюда импортируются все тесты, запускать нужно именно этот файл в командной строке
	+ ***user_api_test.py*** - тесты api пользователей
+ ***main.py*** - через этот файл запускается сервер в командной строке

---
# Запуск сервера

Запуск сервера осуществляется с помощью файла main.py

```shell
python main.py
```

---
# Тестирование

Тестирование осуществляется для проверки корректности всех api проекта. Выполняется через запуск файла ***test.py*** через командную строку.

```shell
pytest tests/test.py
```

ПЕРЕД ЗАПУСКОМ ТЕСТОВОГО ФАЙЛА, ОБЯЗАТЕЛЬНО ЗАПУСТИТЬ СЕРВЕР!!!

ПЕРЕД ТЕСТИРВОАНИЕМ НУЖНО ОБЯЗАТЕЛЬНО ЗАМЕНИТЬ ССЫЛКУ НА ТЕСТОВУЮ БД В ФАЙЛЕ ***main.py***!!!

```python
db_session.global_init(f'db/{TEST_DB_NAME}')
```

---
# Список api

В проекте имеются следующие api:
+ ***HttpGet('/api/orders')*** - получение списка всех заказов
+ ***HttpPost('/api/orders')*** - добавление нового заказа
+ ***HttpGet('/api/orders/<int:order_id>')*** - получение заказа по id
+ ***HttpDelete('/api/orders/<int:order_id>')*** - удаление заказа по id
 
+ ***HttpGet('/api/users')*** - получение списка всех пользователей
+ ***HttpPost('/api/users')*** - добавление нового пользователя
+ ***HttpGet('/api/users/<int:user_id>')*** - получение пользователя по id
+ ***HttpDelete('/api/users/<int:user_id>')*** - удаление пользователя по id
 
+ ***HttpGet('/api/items')*** - получение списка всех товаров
+ ***HttpPost('/api/items')*** - добавление нового товара
+ ***HttpGet('/api/items/<int:item_id>')*** - получение товара по id
+ ***HttpDelete('/api/items/<int:item_id>')*** - удаление товара по id

+ ***HttpGet('/api/categories')*** - получение списка всех категорий
+ ***HttpPost('/api/categories')*** - добавление новой категории
+ ***HttpGet('/api/categories/<int:category_id>')*** - получение категории по id
+ ***HttpDelete('/api/categories/<int:category_id>')*** - удаление категории по id

+ ***HttpGet('/api/suppliers')*** - получение списка всех поставщиков
+ ***HttpPost('/api/suppliers')*** - добавление нового поставщика
+ ***HttpGet('/api/suppliers/<int:supplier_id>')*** - получение поставщика по id
+ ***HttpDelete('/api/suppliers/<int:supplier_id>')*** - удаление поставщика по id

+ ***HttpGet('/api/calculate/<int:order_id>')*** - получение стоимости заказа по его id